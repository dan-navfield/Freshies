# ============================================================================
# Learn Content Pipeline - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values

# ============================================================================
# AI Provider API Keys
# ============================================================================

# OpenAI API Key (primary AI provider)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# Claude API Key (alternative AI provider)
# Get from: https://console.anthropic.com/
CLAUDE_API_KEY=sk-ant-your-claude-key-here

# ============================================================================
# Supabase Configuration
# ============================================================================

# Supabase Project URL
# Format: https://your-project.supabase.co
SUPABASE_URL=https://your-project.supabase.co

# Supabase Anonymous Key (public key for client-side)
SUPABASE_ANON_KEY=your-anon-key-here

# Supabase Service Role Key (private key for server-side operations)
# ⚠️ KEEP THIS SECRET - Never commit or expose this key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================================================
# Pipeline Configuration
# ============================================================================

# Enable/disable the Learn content pipeline
LEARN_PIPELINE_ENABLED=true

# Cron schedule for weekly sync (default: Sunday at 2am)
# Format: minute hour day month weekday
LEARN_SYNC_SCHEDULE=0 2 * * 0

# Cron schedule for daily sync (default: Every day at 3am)
LEARN_DAILY_SYNC_SCHEDULE=0 3 * * *

# Maximum concurrent source fetches
LEARN_MAX_CONCURRENT_FETCHES=3

# Retry attempts for failed fetches
LEARN_FETCH_RETRY_ATTEMPTS=3

# Minimum safety score to auto-publish (0-100)
LEARN_MIN_SAFETY_SCORE=85

# ============================================================================
# Content Source Configuration
# ============================================================================

# Enable/disable specific content sources
LEARN_SOURCE_DERMNET_ENABLED=true
LEARN_SOURCE_RCH_ENABLED=true
LEARN_SOURCE_RCN_ENABLED=true
LEARN_SOURCE_ACD_ENABLED=true
LEARN_SOURCE_BETTERHEALTH_ENABLED=true

# ============================================================================
# AI Model Configuration
# ============================================================================

# OpenAI model to use
OPENAI_MODEL=gpt-4-turbo-2024-04-09

# Claude model to use
CLAUDE_MODEL=claude-3-sonnet-20240229

# Temperature for AI generation (0.0 - 1.0)
# Lower = more consistent, Higher = more creative
AI_TEMPERATURE=0.3

# Maximum tokens per AI request
AI_MAX_TOKENS=4000

# ============================================================================
# Safety & Compliance
# ============================================================================

# Enable strict safety checks
LEARN_STRICT_SAFETY=true

# Require manual review for all articles
LEARN_REQUIRE_MANUAL_REVIEW=true

# Auto-fix common issues (spelling, formatting)
LEARN_AUTO_FIX_ENABLED=true

# ============================================================================
# Logging & Monitoring
# ============================================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable detailed pipeline logging
LEARN_VERBOSE_LOGGING=false

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# ============================================================================
# Development & Testing
# ============================================================================

# Use mock data instead of real API calls
LEARN_USE_MOCK_DATA=false

# Test mode (skip actual database writes)
LEARN_TEST_MODE=false

# Dry run (process but don't save)
LEARN_DRY_RUN=false
